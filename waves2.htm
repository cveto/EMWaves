<!DOCTYPE html>
<html>

<script>
//  wave1[xstart0,ystart1,xrotate2,yrotate3,angle4,raylength5,wavelength6,frequency7,Amplitude8]
var wave1=[30,30,30,30,45,11,0.5,0.008,20];		// By default 2 and 3 are set to 1 and 2
var wave2=[419,419,100,100,45,11,1,0.008,20]		// by default 2 and 3 are ignored

var ctx;
var resolution=20; 		// dots per period
var t=0;
var yPrev=5;





function init() {
	ctx= myCanvas.getContext('2d');
	setInterval(draw,1);	 				// 1 Calls function draw 40 times a...? Well often.	
	//draw();
}

function drawRay(wave,ctx) {
	var numPeriodsToDraw=wave[5]/wave[6];
	var Amp=wave[8];
	var angle=wave[4];
	var xStart=wave[0];
	var yStart=wave[1];
	var lambda1=wave[6];
	var w1=2*Math.PI*wave[7];
	var rotatex = wave[0];
	var rotatey = wave[1];

	// start drawing where?
	ctx.moveTo(wave[0],wave[1]);	

	// rotate arouund where?
	ctx.translate(rotatex,rotatey);		
	ctx.rotate(angle * Math.PI / 180);
	ctx.translate(-rotatex,-rotatey);
	
	for (var x=0;x<=numPeriodsToDraw*resolution;++x) {

		var k1 = 2*Math.PI/resolution;
		var dx=x*lambda1/resolution*50
		var f1=yStart+Amp*Math.sin(k1*x-w1*t);		// Equation
		ctx.lineTo(xStart+dx,f1);
	}
	
	// Rotate K.O. back
	ctx.translate(rotatex,rotatey);
	ctx.rotate(-angle * Math.PI / 180);
	ctx.translate(-rotatex,-rotatey);
	

}

function draw() {
	var c = document.getElementById("myCanvas");
	var ctx = c.getContext("2d");
	
	ctx.beginPath();
	
	ctx.rect(30, 30, 1, 1);
	drawRay(wave1,ctx);
	drawRay(wave2,ctx);
	
	// Clear Image

	ctx.clearRect(0,0, 3000,3000);

	ctx.stroke();
	
	t+=1;
}


function draw2() {
	var c = document.getElementById("myCanvas");
	var ctx = c.getContext("2d");
	

	ctx.moveTo(xStart,yStart);				
	rotateAround=[xStart,xStart];
	ctx.translate(rotateAround[0],rotateAround[1]);
	ctx.rotate(wtf * Math.PI / 180);
	ctx.translate(-rotateAround[0],-rotateAround[1]);

	ctx.beginPath();

	for (var x=0;x<=numPeriodsToDraw*resolution;++x) {

		var k1 = 2*Math.PI/resolution;
		var dx=x*lambda1/resolution*50
		var f1=yStart+Amp*Math.sin(k1*x-w1*t);		// Equation
		ctx.lineTo(xStart+dx,f1);
	}
	t+=1;
	//ctx.arc(95,50,40,0,1*Math.PI);
	ctx.clearRect(0,0, 3000,3000);
	yPrev=f1;
	
	ctx.stroke();
	
	ctx.translate(rotateAround[0],rotateAround[1]);
	ctx.rotate(-wtf * Math.PI / 180);
	ctx.translate(-rotateAround[0],-rotateAround[1]);
}

function move_zeros()	{
		arr_wave1.splice(0,0,0);		// Moves array to right by adding zeros at the beginning
		arr_wave1.splice(-1,1)			// Deletes last one
		document.getElementById("meh").innerHTML = arr_wave1;
}	
</script>

<body onLoad="init();">

<canvas id="myCanvas" width="3000" height="3000" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<script>



</script> 

</body>
</html>
